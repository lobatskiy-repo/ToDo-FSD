import*as e from"effector-react/scope";import{is as n}from"effector";import t from"react";function r(e){return function(r){var u=function(e){var t={},r={},o={};for(var u in e.bind){var i=e.bind[u];n.event(i)||n.effect(i)?t[u]=i:n.store(i)?r[u]=i:o[u]=i}return{events:t,stores:r,data:o}}(r),i=u.stores,f=u.events,c=u.data;return function(n){var u,a,s=e.useUnit(i),v=e.useUnit(f),l=Object.assign({},s,v,c,n),d=o(null===(u=r.hooks)||void 0===u?void 0:u.mounted,e),m=o(null===(a=r.hooks)||void 0===a?void 0:a.unmounted,e);return t.useEffect((function(){return d&&d(),function(){m&&m()}}),[]),t.createElement(r.view,l)}}}function o(e,t){return function(e){return Boolean(e&&(n.event(e)||n.effect(e)))}(e)?t.useUnit(e):e}var u=function(){return null};function i(e,n){var t={}.hasOwnProperty;for(var r in e)t.call(e,r)&&n(r)}var f=r(e),c=function(e){var n=r(e);return function(e){return function(t,r){return n(Object.assign({view:e,bind:t},r))}}}(e),a=function(e){var n=r(e);return function(r){var o,i,f,c,a;"if"in r?(f=r.if.map((function(e){return e?"then":"else"})),c={then:r.then,else:r.else},a=u):(f=r.source,c=r.cases,a=null!==(o=r.default)&&void 0!==o?o:u);var s=null!==(i=r.bind)&&void 0!==i?i:{};return n({bind:s,view:function(n){var r,o=e.useUnit(f),u=null!==(r=c[o])&&void 0!==r?r:a;return t.createElement(u,n)},hooks:r.hooks})}}(e),s=function(e){var n=r(e);return function(r){var o=n({view:r.view,bind:r.bind?r.bind:{},hooks:r.hooks}),u={getKey:r.getKey,fn:function(e,n){var u=t.useMemo((function(){var t={};return r.mapItem?i(r.mapItem,(function(o){var u=(0,r.mapItem[o])(e,n);t[o]=u})):i(e,(function(n){t[n]=e[n]})),t}),[e,n]);return t.createElement(o,u)}};return function(){return e.useList(r.source,u)}}}(e);console.error("`@effector/reflect/ssr` is deprecated, import from `@effector/reflect/scope` instead");export{c as createReflect,s as list,f as reflect,a as variant};
//# sourceMappingURL=ssr.mjs.map
