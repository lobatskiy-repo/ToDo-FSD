import*as n from"effector-react/scope";import{is as e}from"effector";import t from"react";function r(n){return function(r){var u=function(n){var t={},r={},o={};for(var u in n.bind){var i=n.bind[u];e.event(i)||e.effect(i)?t[u]=i:e.store(i)?r[u]=i:o[u]=i}return{events:t,stores:r,data:o}}(r),i=u.stores,f=u.events,c=u.data;return function(e){var u,a,s=n.useUnit(i),v=n.useUnit(f),l=Object.assign({},s,v,c,e),d=o(null===(u=r.hooks)||void 0===u?void 0:u.mounted,n),m=o(null===(a=r.hooks)||void 0===a?void 0:a.unmounted,n);return t.useEffect((function(){return d&&d(),function(){m&&m()}}),[]),t.createElement(r.view,l)}}}function o(n,t){return function(n){return Boolean(n&&(e.event(n)||e.effect(n)))}(n)?t.useUnit(n):n}var u=function(){return null};function i(n,e){var t={}.hasOwnProperty;for(var r in n)t.call(n,r)&&e(r)}var f=r(n),c=function(n){var e=r(n);return function(n){return function(t,r){return e(Object.assign({view:n,bind:t},r))}}}(n),a=function(n){var e=r(n);return function(r){var o,i,f,c,a;"if"in r?(f=r.if.map((function(n){return n?"then":"else"})),c={then:r.then,else:r.else},a=u):(f=r.source,c=r.cases,a=null!==(o=r.default)&&void 0!==o?o:u);var s=null!==(i=r.bind)&&void 0!==i?i:{};return e({bind:s,view:function(e){var r,o=n.useUnit(f),u=null!==(r=c[o])&&void 0!==r?r:a;return t.createElement(u,e)},hooks:r.hooks})}}(n),s=function(n){var e=r(n);return function(r){var o=e({view:r.view,bind:r.bind?r.bind:{},hooks:r.hooks}),u={getKey:r.getKey,fn:function(n,e){var u=t.useMemo((function(){var t={};return r.mapItem?i(r.mapItem,(function(o){var u=(0,r.mapItem[o])(n,e);t[o]=u})):i(n,(function(e){t[e]=n[e]})),t}),[n,e]);return t.createElement(o,u)}};return function(){return n.useList(r.source,u)}}}(n);export{c as createReflect,s as list,f as reflect,a as variant};
//# sourceMappingURL=scope.mjs.map
