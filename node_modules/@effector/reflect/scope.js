"use strict";var e=require("effector-react/scope"),n=require("effector"),t=require("react");function r(e){var n=Object.create(null);if(e)for(var t in e)n[t]=e[t];return n.default=e,n}var u=r(e);function i(e){return function(r){var u=function(e){var t={},r={},u={};for(var i in e.bind){var o=e.bind[i];n.is.event(o)||n.is.effect(o)?t[i]=o:n.is.store(o)?r[i]=o:u[i]=o}return{events:t,stores:r,data:u}}(r),i=u.stores,a=u.events,c=u.data;return function(n){var u,f,s=e.useUnit(i),v=e.useUnit(a),l=Object.assign({},s,v,c,n),d=o(null===(u=r.hooks)||void 0===u?void 0:u.mounted,e),m=o(null===(f=r.hooks)||void 0===f?void 0:f.unmounted,e);return t.useEffect((function(){return d&&d(),function(){m&&m()}}),[]),t.createElement(r.view,l)}}}function o(e,t){return function(e){return Boolean(e&&(n.is.event(e)||n.is.effect(e)))}(e)?t.useUnit(e):e}var a=function(){return null};function c(e,n){var t={}.hasOwnProperty;for(var r in e)t.call(e,r)&&n(r)}var f=i(u),s=function(e){var n=i(e);return function(e){return function(t,r){return n(Object.assign({view:e,bind:t},r))}}}(u),v=function(e){var n=i(e);return function(r){var u,i,o,c,f;"if"in r?(o=r.if.map((function(e){return e?"then":"else"})),c={then:r.then,else:r.else},f=a):(o=r.source,c=r.cases,f=null!==(u=r.default)&&void 0!==u?u:a);var s=null!==(i=r.bind)&&void 0!==i?i:{};return n({bind:s,view:function(n){var r,u=e.useUnit(o),i=null!==(r=c[u])&&void 0!==r?r:f;return t.createElement(i,n)},hooks:r.hooks})}}(u),l=function(e){var n=i(e);return function(r){var u=n({view:r.view,bind:r.bind?r.bind:{},hooks:r.hooks}),i={getKey:r.getKey,fn:function(e,n){var i=t.useMemo((function(){var t={};return r.mapItem?c(r.mapItem,(function(u){var i=(0,r.mapItem[u])(e,n);t[u]=i})):c(e,(function(n){t[n]=e[n]})),t}),[e,n]);return t.createElement(u,i)}};return function(){return e.useList(r.source,i)}}}(u);exports.createReflect=s,exports.list=l,exports.reflect=f,exports.variant=v;
//# sourceMappingURL=scope.js.map
